
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title> TuDy ðŸŒŠ</title>
    <link rel="icon" type="image/x-icon" href="./Imatges/icon.ico">
    <style>
      #intro {
        background-image: url("/Imatges/IMG_20220601_095319.jpg");
        color:antiquewhite;
        height: 100vh;
        align-items: center;
        box-shadow: 0 2px 10px 0 rgba(0,0,0,.5);
      }
      #Calendari{

        background-color: rgb(235, 235, 235);
      }
 
    </style>
  </head>
  <body class="bg-light">

    <nav class="navbar navbar-expand-lg navbar-light bg-dark d-flex align-self-center justify-content-center text-center">
        <a class="nav-link" style="color: rgb(235, 235, 235)" href="/Home.html">Home <span class="sr-only">(current)</span></a>
        <a class="nav-link" style="color: rgb(235, 235, 235)" href="/Study.html">Studyset</a>
        <a class="nav-link" style="color: rgb(235, 235, 235)" href="/Calendari.html">Calendari</a>
        <a class="nav-link" style="color: rgb(235, 235, 235)" href="/Chill.html">Chillin'room</a>
        <a class="nav-link" style="color: rgb(235, 235, 235)" href="/quequieresquetediga.html">'bout me</a>

      </nav>

    <!-- Inici Calendari -->

    <div id="Calendari">
    <div class="row m-3 pt-2 align-items-center text-center" style="font-weight: bold;">
        <div class="col">
            Dilluns
        </div>
        <div class="col">
            Dimarts
        </div>
        <div class="col">
            Dimecres
        </div>
        <div class="col">
            Dijous
        </div>
        <div class="col">
            Divendres
        </div>
        <div class="col">
            Dissabte
        </div>
        <div class="col">
            Diumenge
        </div>
    </div>
    <div class="row m-3 align-items-center text-center">
        <div class="col" name="dia" id="c1">
            
        </div>
        <div class="col" name="dia" id="c2">
            
        </div>
        <div class="col" name="dia" id="c3">
            
        </div>
        <div class="col" name="dia" id="c4">
            
        </div>
        <div class="col" name="dia" id="c5">
            
        </div>
        <div class="col" name="dia" id="c6">
            
        </div>
        <div class="col" name="dia" id="c7">
            
        </div>
    </div>
    <div class="row m-3 align-items-center text-center">
        <div class="col" name="dia" id="c8">
            
        </div>
        <div class="col" name="dia" id="c9">
            
        </div>
        <div class="col" name="dia" id="c10">
            
        </div>
        <div class="col" name="dia" id="c11">
            
        </div>
        <div class="col" name="dia" id="c12">
            
        </div>
        <div class="col" name="dia" id="c13">
            
        </div>
        <div class="col" name="dia" id="c14">
            
        </div>
    </div>
    <div class="row m-3 align-items-center text-center">
        <div class="col" name="dia" id="c15">
            
        </div>
        <div class="col" name="dia" id="c16">
            
        </div>
        <div class="col" name="dia" id="c17">
            
        </div>
        <div class="col" name="dia" id="c18">
            
        </div>
        <div class="col" name="dia" id="c19">
            
        </div>
        <div class="col" name="dia" id="c20">
            
        </div>
        <div class="col" name="dia" id="c21">
            
        </div>
    </div>
    <div class="row m-3 align-items-center text-center">
        <div class="col" name="dia" id="c22">
            
        </div>
        <div class="col" name="dia" id="c23">
            
        </div>
        <div class="col" name="dia" id="c24">
            
        </div>
        <div class="col" name="dia" id="c25">
            
        </div>
        <div class="col" name="dia" id="c26">
            
        </div>
        <div class="col" name="dia" id="c27">
            
        </div>
        <div class="col" name="dia" id="c28">
            
        </div>
    </div>
    <div class="row m-3 align-items-center text-center">
        <div class="col" name="dia" id="c29">

        </div>
        <div class="col" name="dia" id="c30">
            
        </div>
        <div class="col" name="dia" id="c31">
            
        </div>
        <div class="col" name="dia" id="c32">
            
        </div>
        <div class="col" name="dia" id="c33">
            
        </div>
        <div class="col" name="dia" id="c34">
            
        </div>
        <div class="col" name="dia" id="c35">
            
        </div>
    </div>
    <div class="row m-3 align-items-center text-center">
        <div class="col" name="dia" id="c36">

        </div>
        <div class="col" name="dia" id="c37">
            
        </div>
        <div class="col" name="dia" id="c38">
            
        </div>
        <div class="col" name="dia" id="c39">
            
        </div>
        <div class="col" name="dia" id="c40">
            
        </div>
        <div class="col" name="dia" id="c41">
            
        </div>
        <div class="col" name="dia" id="c42">
            
        </div>
    </div>
    <div class="row m-3 pb-3 align-items-center text-center">
        <div class="col">
            <button type="button" class="btn btn-dark" id="anterior"> < </button>
        </div>
        <div class="col" id="nom">
            <p> </p>
        </div>
        <div class="col">
            <button type="button" class="btn btn-dark" id="seguent"> > </button>
        </div>
        

    </div>
</div>
    <!-- Fi Calendari -->



    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel">Nou event</h4>
                
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              
            </div>
            <div class="modal-body">
              <div id ="diaa" style="font-weight: bold"></div>
              <form id="contactForm" name="contact" role="form">
                <div class="form-group">
                  <label for="recipient-name" class="control-label">TÃ­tol:</label>
                  <input type="text" class="form-control" id="titol">
                </div>
                <div class="form-group">
                  <label for="horari" class="control-label">Horari:</label>
                  <input type="time" class="form-control" id="horarii">
                  <small> Fins a: </small>
                  <input type="time" class="form-control" id="horarif">
                  </div>
                <div class="form-group">
                  <label for="message-text" class="control-label">DescripciÃ³:</label>
                  <textarea class="form-control" id="descripcio"></textarea>
                </div>
                <div class="form-group">
                  <label for="exampleColorInput" class="form-label">Tria el color:</label>
                  <input type="color" class="form-control form-control-color" id="ColorInput" value="#563d7c" title="Tria el color que vols">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					    <input type="submit" class="btn btn-success" id="submit">
            </div>
          </div>
        </div>
      </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script>
        var now = new Date();
        now = now.toLocaleDateString();
        now = now.split("/");
        function mes(){
            var dies = 0;
            if ([1, 3, 5, 7, 8, 10, 12].includes(now[1])){
                dies = 31;
            }
            else if (now[1] == 2){
                dies = 28;
            }
            else{
                dies = 30;
            }
            var i = 1;


            var dos = now[2].toString().substr(-2);
            dos = parseInt(dos);
            var ycode = (dos + ~~(dos/4))%7;
            var mcodel = [0, 3, 3, 6,  1, 4, 6, 2, 5, 0, 3, 5];
            var mcode = mcodel[now[1]-1];
            var total = (ycode + mcode + 6 + 1)%7;
            var d = total;
            if (d==0){
                d = 7;
            }
            var e = 1;
            while (e < 42){
                var q = "c" + e.toString();
                var el = document.getElementById(q)
                el.innerHTML = "";
                el.style.backgroundColor = "";
                e = e + 1
            }
            while (i<dies+1){
                var l = "c" + d.toString();
                
                document.getElementById(l).innerHTML = i;
                i = i + 1;
                d = d + 1;
            }
            var e = total + parseInt(now[0]) - 1;

            var avui = new Date();
            avui = avui.toLocaleDateString()
            avui = avui.split("/");
            if (avui[1] == now[1]){
                var actual = document.getElementById("c"+(e).toString());
                actual.style.backgroundColor = "white";
                actual.style.borderRadius= "10px";
            }

            var nom = document.getElementById("nom")
            var llistamesos = ["Gener", "Febrer", "MarÃ§", "Abril", "Maig", "Juny", "Juliol", "Agost", "Setembre", "Octubre", "Novembre", "Desembre"]
            nom.innerHTML = llistamesos[now[1]-1];

        }
        mes();

        var d = document.getElementById("seguent")
        d.addEventListener('click', function(){
            now[1] = parseInt(now[1]) + 1;
            console.log(now[1])
            mes();
        });

        var e = document.getElementById("anterior")
        e.addEventListener('click', function(){
            now[1] = parseInt(now[1]) -1;
            console.log(now[1])
            mes();
        })

       
        let llista = document.getElementsByName("dia");
        console.log(llista[1].id);


        llista.forEach(function(element, index){
            var pos = index + 1;
            var q = "c" + pos.toString();
            var el = document.getElementById(q)
            el.addEventListener('click', function(){
                $('#exampleModal').modal('show');
              window.clic = el;
              var te = document.getElementById("diaa")
              te.innerHTML = "Dia " + el.textContent; 
              });
            });
        
        var submitt = document.getElementById("submit")
        submitt.addEventListener('click', function(){

          var tito = document.getElementById("titol").value
          var color = document.getElementById("ColorInput").value
          var horainici = document.getElementById("horarii").value
          var horafinal = document.getElementById("horarif").value
          var desc = document.getElementById("descripcio").value
          var dia = document.getElementById("diaa").textContent
          dia = dia.replace("Dia ", '')

          if (tito!=""){
          var llista = [dia, tito, horainici, horafinal, desc, color]


          if (clic.style.backgroundColor != 'white'){
            clic.style.background = 'linear-gradient(to right, transparent 75%, '+ color + ' 25%)'
            clic.style.borderRadius = "10px";
          }
          else{
            clic.style.background = 'linear-gradient(to right, white 75%, '+ color + ' 25%)'
            clic.style.backgroundColor = 'white';
            clic.style.borderRadius = "10px";
          }
          
          localStorage.setItem("events", llista)

          prova = localStorage.getItem("events").split(",")
          console.log(prova[0])
          $('#exampleModal').modal('hide');}

          else{
            window.alert("L'event ha de tenir mÃ­nim un tÃ­tol");
          }

        })
            
        
            


    function loadEvent(a){

    }


    

    </script>
  </body>
</html>

